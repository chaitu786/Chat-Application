{"ast":null,"code":"import * as types from \"./actiontypes\";\nimport axios from \"axios\";\nexport const Get_All_Data = () => dispatch => {\n  axios.get(\"http://localhost:8080/data\").then(r => {\n    dispatch({\n      type: types.PRODUCT_SUCCESS,\n      payload: r.data\n    });\n  }).catch(err => {\n    console.log(err);\n  });\n}; // export const Get_User=()=>(dispatch)=>{\n//    axios.get(\"http://localhost:8080/users\").then((r)=>{\n//       console.log(r.data.data,);\n//       dispatch({type:types.USER_DATA,payload:r.data})\n//    })\n//    .catch((err)=>{\n//       console.log(err);\n//    })\n// };\n\nexport const Sigup_Success = (alert, payload, navigate) => dispatch => {\n  axios.post(\"http://localhost:8080/signup\", payload).then(r => {\n    if (r.data.message === \"user created\") {\n      alert.success(\"User Registration successfull\");\n      setTimeout(() => {\n        navigate(\"/login\");\n      }, 1000);\n    } else if (r.data.message === \"exists\") {\n      alert.send(\"User Already Exist\");\n    } else if (r.data.message === \"error\") {\n      alert.error(\"Something Went Wrong\");\n    }\n  }).catch(err => {\n    console.log(err);\n  });\n};\nexport const Login_Success = (alert, payload, navigate) => () => {\n  axios.post(\"http://localhost:8080/login\", payload, {\n    withCredentials: true\n  }).then(r => {\n    console.log(r);\n\n    if (r.data.message === \"login success\") {\n      localStorage.setItem(\"isLogin\", true);\n      localStorage.setItem(\"role\", r.data);\n      alert.success(\"Login Successfull\");\n      setTimeout(() => {\n        navigate(\"/\");\n      }, 1000);\n    } else if (r.data.message === \"Invalid Password\") {\n      alert.error(\"Invalid Password\");\n    } else if (r.data.message === \"user does not exist\") {\n      alert.show(\"user does not exist\");\n      setTimeout(() => {\n        navigate(\"/signup\");\n      }, 1000);\n    }\n  }).catch(err => {\n    alert.error(\"Something Went Wrong in axios\");\n    console.log(err);\n  });\n};","map":{"version":3,"names":["types","axios","Get_All_Data","dispatch","get","then","r","type","PRODUCT_SUCCESS","payload","data","catch","err","console","log","Sigup_Success","alert","navigate","post","message","success","setTimeout","send","error","Login_Success","withCredentials","localStorage","setItem","show"],"sources":["C:/Users/Chaithanya/OneDrive/Desktop/Chat-Application/client/src/Redux/AppReducer/action.js"],"sourcesContent":["import * as types from \"./actiontypes\"\r\nimport axios from \"axios\"\r\n\r\nexport const Get_All_Data=()=>(dispatch)=>{\r\n   axios.get(\"http://localhost:8080/data\").then((r)=>{\r\n      dispatch({type:types.PRODUCT_SUCCESS,payload:r.data})\r\n   })\r\n   .catch((err)=>{\r\n      console.log(err);\r\n   })\r\n};\r\n\r\n// export const Get_User=()=>(dispatch)=>{\r\n//    axios.get(\"http://localhost:8080/users\").then((r)=>{\r\n//       console.log(r.data.data,);\r\n//       dispatch({type:types.USER_DATA,payload:r.data})\r\n//    })\r\n//    .catch((err)=>{\r\n//       console.log(err);\r\n//    })\r\n// };\r\n\r\nexport const Sigup_Success=(alert,payload,navigate)=>(dispatch)=>{\r\n   axios.post(\"http://localhost:8080/signup\",payload).then((r)=>{\r\n      if(r.data.message===\"user created\"){\r\n         alert.success(\"User Registration successfull\")\r\n         setTimeout(()=>{\r\n            navigate(\"/login\")\r\n         },1000)\r\n      }\r\n      else if(r.data.message===\"exists\"){\r\n         alert.send(\"User Already Exist\")\r\n      }\r\n      else if (r.data.message===\"error\"){\r\n         alert.error(\"Something Went Wrong\")\r\n      }\r\n   })\r\n   .catch((err)=>{\r\n      console.log(err);\r\n   })\r\n}\r\n\r\n\r\nexport const Login_Success=(alert,payload,navigate)=>()=>{\r\n    axios.post(\"http://localhost:8080/login\",payload,{withCredentials:true}).then((r)=>{\r\n       console.log(r);\r\n       if(r.data.message===\"login success\"){\r\n          localStorage.setItem(\"isLogin\",true)\r\n          localStorage.setItem(\"role\",r.data)\r\n          alert.success(\"Login Successfull\")\r\n          setTimeout(()=>{\r\n             navigate(\"/\")\r\n          },1000)\r\n       }\r\n       else if (r.data.message===\"Invalid Password\"){\r\n          alert.error(\"Invalid Password\")\r\n       }\r\n       else if(r.data.message===\"user does not exist\"){\r\n          alert.show(\"user does not exist\")\r\n          setTimeout(()=>{\r\n             navigate(\"/signup\")\r\n          },1000)\r\n       }\r\n    })\r\n    .catch((err)=>{\r\n       alert.error(\"Something Went Wrong in axios\")\r\n       console.log(err);\r\n    })\r\n }"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,eAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,YAAY,GAAC,MAAKC,QAAD,IAAY;EACvCF,KAAK,CAACG,GAAN,CAAU,4BAAV,EAAwCC,IAAxC,CAA8CC,CAAD,IAAK;IAC/CH,QAAQ,CAAC;MAACI,IAAI,EAACP,KAAK,CAACQ,eAAZ;MAA4BC,OAAO,EAACH,CAAC,CAACI;IAAtC,CAAD,CAAR;EACF,CAFD,EAGCC,KAHD,CAGQC,GAAD,IAAO;IACXC,OAAO,CAACC,GAAR,CAAYF,GAAZ;EACF,CALD;AAMF,CAPM,C,CASP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,MAAMG,aAAa,GAAC,CAACC,KAAD,EAAOP,OAAP,EAAeQ,QAAf,KAA2Bd,QAAD,IAAY;EAC9DF,KAAK,CAACiB,IAAN,CAAW,8BAAX,EAA0CT,OAA1C,EAAmDJ,IAAnD,CAAyDC,CAAD,IAAK;IAC1D,IAAGA,CAAC,CAACI,IAAF,CAAOS,OAAP,KAAiB,cAApB,EAAmC;MAChCH,KAAK,CAACI,OAAN,CAAc,+BAAd;MACAC,UAAU,CAAC,MAAI;QACZJ,QAAQ,CAAC,QAAD,CAAR;MACF,CAFS,EAER,IAFQ,CAAV;IAGF,CALD,MAMK,IAAGX,CAAC,CAACI,IAAF,CAAOS,OAAP,KAAiB,QAApB,EAA6B;MAC/BH,KAAK,CAACM,IAAN,CAAW,oBAAX;IACF,CAFI,MAGA,IAAIhB,CAAC,CAACI,IAAF,CAAOS,OAAP,KAAiB,OAArB,EAA6B;MAC/BH,KAAK,CAACO,KAAN,CAAY,sBAAZ;IACF;EACH,CAbD,EAcCZ,KAdD,CAcQC,GAAD,IAAO;IACXC,OAAO,CAACC,GAAR,CAAYF,GAAZ;EACF,CAhBD;AAiBF,CAlBM;AAqBP,OAAO,MAAMY,aAAa,GAAC,CAACR,KAAD,EAAOP,OAAP,EAAeQ,QAAf,KAA0B,MAAI;EACrDhB,KAAK,CAACiB,IAAN,CAAW,6BAAX,EAAyCT,OAAzC,EAAiD;IAACgB,eAAe,EAAC;EAAjB,CAAjD,EAAyEpB,IAAzE,CAA+EC,CAAD,IAAK;IAChFO,OAAO,CAACC,GAAR,CAAYR,CAAZ;;IACA,IAAGA,CAAC,CAACI,IAAF,CAAOS,OAAP,KAAiB,eAApB,EAAoC;MACjCO,YAAY,CAACC,OAAb,CAAqB,SAArB,EAA+B,IAA/B;MACAD,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA4BrB,CAAC,CAACI,IAA9B;MACAM,KAAK,CAACI,OAAN,CAAc,mBAAd;MACAC,UAAU,CAAC,MAAI;QACZJ,QAAQ,CAAC,GAAD,CAAR;MACF,CAFS,EAER,IAFQ,CAAV;IAGF,CAPD,MAQK,IAAIX,CAAC,CAACI,IAAF,CAAOS,OAAP,KAAiB,kBAArB,EAAwC;MAC1CH,KAAK,CAACO,KAAN,CAAY,kBAAZ;IACF,CAFI,MAGA,IAAGjB,CAAC,CAACI,IAAF,CAAOS,OAAP,KAAiB,qBAApB,EAA0C;MAC5CH,KAAK,CAACY,IAAN,CAAW,qBAAX;MACAP,UAAU,CAAC,MAAI;QACZJ,QAAQ,CAAC,SAAD,CAAR;MACF,CAFS,EAER,IAFQ,CAAV;IAGF;EACH,CAnBD,EAoBCN,KApBD,CAoBQC,GAAD,IAAO;IACXI,KAAK,CAACO,KAAN,CAAY,+BAAZ;IACAV,OAAO,CAACC,GAAR,CAAYF,GAAZ;EACF,CAvBD;AAwBF,CAzBK"},"metadata":{},"sourceType":"module"}